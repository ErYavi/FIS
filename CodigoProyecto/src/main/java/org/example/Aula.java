//
//
//  Generated by StarUML(tm) Java Add-In
//
//  @ Project : Untitled
//  @ File Name : Aula.java
//  @ Date : 19/05/2022
//  @ Author : 
//
//
package org.example;

import servidor.Autenticacion;
import servidor.ObtencionDeRol;
import servidor.UPMUsers;
import java.util.List;

public class Aula implements IAula, ICSuscripcion {
	private String NombreCentro;
	private Long idInterno;
	private Integer Aforo;
	private String tipoAula;
	//public PDI PDI;
	private List<Observadores> listaObservadores;
	//public CAula CAula;
	//public PAS PAS;

	public void monitorizarSensores() {
	
	}

	public Aula(String nombreCentro, Long idInterno, Integer aforo, String tipoAula) {
		NombreCentro = nombreCentro;
		this.idInterno = idInterno;
		Aforo = aforo;
		this.tipoAula = tipoAula;
	}

	public String getNombreCentro() {
		return NombreCentro;
	}

	public void setNombreCentro(String nombreCentro) {
		NombreCentro = nombreCentro;
	}

	public Long getIdInterno() {
		return idInterno;
	}

	public void setIdInterno(Long idInterno) {
		this.idInterno = idInterno;
	}

	public Integer getAforo() {
		return Aforo;
	}

	public void setAforo(Integer aforo) {
		Aforo = aforo;
	}

	public String getTipoAula() {
		return tipoAula;
	}

	public void setTipoAula(String tipoAula) {
		this.tipoAula = tipoAula;
	}

	public void destroy() {
	
	}

	/** habría que comprobar que el Usuario existe y que es un PDI o un Alumno y luego crear un Observador*/
	//Se deberia añadir un hashMap?
	//Clase controladora de suscribirse
	public void Suscribirse(Usuario suscriptor) {
		UPMUsers rol = ObtencionDeRol.get_UPM_AccountRol(suscriptor.getCorreo());
		if(rol.name().equals("ALUMNO") || rol.name().equals("PDI")){
			if(!listaObservadores.contains(suscriptor)){
				listaObservadores.add(new Observadores(suscriptor));
			}
		}
		/*if(true){
			listaObservadores.add(new Observadores(suscriptor.getDNI(), suscriptor.getNombre(), suscriptor.getApellido1(),
					suscriptor.getCorreo(), suscriptor.getApellido2(), suscriptor.getContrasenia()));
		}*/
	}
}
